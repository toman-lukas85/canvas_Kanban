/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
var pcf_tools_652ac3f36e1e4bca82eb3c1dc44e6fad;
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./index.ts"
/*!******************!*\
  !*** ./index.ts ***!
  \******************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   KanbanBoard: () => (/* binding */ KanbanBoard)\n/* harmony export */ });\nclass KanbanBoard {\n  constructor() {\n    this._draggedElement = null;\n    this._draggedTaskId = null;\n    this._sourceColumnId = null;\n    this._lastUpdatedTask = null;\n    this._pendingUpdate = false;\n    this._columnDefinitions = [];\n    // Style and alignment configuration\n    this._styleConfig = {\n      fontFamily: 'Segoe UI',\n      fontSize: 14,\n      primaryColor: '#3b82f6',\n      backgroundColor: '#faf9f8',\n      columnBackgroundColor: '#f5f7fa',\n      cardBackgroundColor: '#ffffff',\n      textColor: '#1f2937',\n      secondaryTextColor: '#6b7280',\n      highPriorityColor: '#dc2626',\n      mediumPriorityColor: '#ea580c',\n      lowPriorityColor: '#059669'\n    };\n    // Border radius configuration\n    this._radiusConfig = {\n      board: 8,\n      column: 12,\n      card: 8,\n      badge: 12\n    };\n    // Shadow configuration\n    this._shadowConfig = {\n      board: 'Medium',\n      column: 'Subtle',\n      card: 'Medium',\n      cardHover: 'Strong',\n      customBoard: '',\n      customColumn: '',\n      customCard: '',\n      customCardHover: ''\n    };\n    // Hover effects configuration\n    this._hoverConfig = {\n      enabled: true,\n      transitionDuration: 200,\n      cardScale: 1.02,\n      cardElevation: 4\n    };\n    this._alignmentConfig = {\n      boardHorizontal: 'Left',\n      columnsHorizontal: 'Left',\n      cardsVertical: 'Top',\n      text: 'Left'\n    };\n    // Text configuration for multiline support\n    this._textConfig = {\n      enableMultiline: true,\n      maxLines: 3,\n      lineHeight: 1.5,\n      wordWrap: true,\n      textOverflow: 'ellipsis',\n      // 'ellipsis', 'clip', 'fade'\n      showTooltipOnOverflow: true\n    };\n    this._layoutConfig = {\n      columnWidth: 300,\n      columnMinWidth: 250,\n      columnMaxWidth: 500,\n      columnSpacing: 16,\n      cardSpacing: 8\n    };\n    // Author display configuration\n    this._authorConfig = {\n      showBadge: true,\n      displayFormat: 'Full Name',\n      position: 'Top Right',\n      customFormat: '',\n      showAvatar: true,\n      avatarSize: 24,\n      badgeColor: '#e0e7ff',\n      // Field mappings\n      firstNameField: 'authorFirstName',\n      lastNameField: 'authorLastName',\n      emailField: 'authorEmail',\n      avatarField: 'authorAvatar'\n    };\n    // New property for Priority Badge\n    this._showPriorityBadge = true;\n    this._shareModalConfig = {\n      overlayColor: 'rgba(0, 0, 0, 0.3)',\n      overlayOpacity: 0.3,\n      borderRadius: 8,\n      // Will be prioritized from _radiusConfig.card if not set\n      shadow: 'Medium',\n      fontFamily: 'Segoe UI',\n      fontSize: 14,\n      textColor: '#1f2937',\n      headerColor: '#111827',\n      backgroundColor: '#ffffff',\n      padding: 20,\n      textAlignment: 'Left'\n    };\n    this._boardData = this.getEmptyBoardData();\n  }\n  init(context, notifyOutputChanged, state, container) {\n    this._context = context;\n    this._container = container;\n    this._notifyOutputChanged = notifyOutputChanged;\n    // Update configurations\n    this.updateColumnDefinitions();\n    this.updateStyleConfiguration();\n    this.updateAlignmentConfiguration();\n    this.updateLayoutConfiguration();\n    this.updateAuthorConfiguration();\n    this.updateRadiusAndShadowConfiguration();\n    // Load data\n    this.loadData();\n    this.renderBoard();\n    // Global listener to close popups when clicking outside\n    document.addEventListener('click', e => {\n      var popups = this._container.querySelectorAll('.share-popup');\n      popups.forEach(popup => {\n        popup.style.display = 'none';\n      });\n    });\n  }\n  updateView(context) {\n    this._context = context;\n    // Update all configurations\n    this.updateColumnDefinitions();\n    this.updateStyleConfiguration();\n    this.updateAlignmentConfiguration();\n    this.updateLayoutConfiguration();\n    this.updateAuthorConfiguration();\n    this.updateRadiusAndShadowConfiguration();\n    // Check if dataset has changed - use fallback for now\n    // Always reload data and render to support all sources and fallbacks\n    this.loadData();\n    this.renderBoard();\n  }\n  updateColumnDefinitions() {\n    // Use simple configuration for now since advanced properties aren't available yet\n    this._columnDefinitions = this.getDefaultColumnDefinitions();\n  }\n  parseQuickColumnSetup(setup) {\n    var statuses = [];\n    if (setup.startsWith('[') && setup.endsWith(']')) {\n      statuses.push(...setup.slice(1, -1).split(',').map(s => s.trim()));\n    } else if (setup.includes('|')) {\n      statuses.push(...setup.split('|').map(s => s.trim()));\n    } else {\n      statuses.push(...setup.split(',').map(s => s.trim()));\n    }\n    return statuses.filter(s => s.length > 0).map((status, index) => ({\n      id: \"col_\".concat(index),\n      title: status,\n      statusValues: [status]\n    }));\n  }\n  getDefaultColumnDefinitions() {\n    return [{\n      id: 'todo',\n      title: 'To Do',\n      statusValues: ['Todo', 'New', 'Open']\n    }, {\n      id: 'inprogress',\n      title: 'In Progress',\n      statusValues: ['In Progress', 'Active', 'Working']\n    }, {\n      id: 'review',\n      title: 'Review',\n      statusValues: ['Review', 'Testing', 'Validation']\n    }, {\n      id: 'done',\n      title: 'Done',\n      statusValues: ['Done', 'Completed', 'Closed']\n    }];\n  }\n  updateStyleConfiguration() {\n    var _a, _b;\n    // Use basic properties that are available\n    if ((_a = this._context.parameters.boardHeight) === null || _a === void 0 ? void 0 : _a.raw) {\n      // Available property\n    }\n    if ((_b = this._context.parameters.columnWidth) === null || _b === void 0 ? void 0 : _b.raw) {\n      this._layoutConfig.columnWidth = this._context.parameters.columnWidth.raw;\n    }\n    // Other properties will be added when manifest is properly regenerated\n  }\n  updateAlignmentConfiguration() {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n    // Now we can use the actual parameters since they're available in the manifest\n    if ((_a = this._context.parameters.textAlignment) === null || _a === void 0 ? void 0 : _a.raw) {\n      this._alignmentConfig.text = this._context.parameters.textAlignment.raw;\n    }\n    // Update multiline configuration with actual parameters\n    this._textConfig.enableMultiline = ((_b = this._context.parameters.enableMultilineText) === null || _b === void 0 ? void 0 : _b.raw) !== false;\n    this._textConfig.maxLines = ((_c = this._context.parameters.maxTextLines) === null || _c === void 0 ? void 0 : _c.raw) || 3;\n    this._textConfig.lineHeight = ((_d = this._context.parameters.textLineHeight) === null || _d === void 0 ? void 0 : _d.raw) || 1.5;\n    this._textConfig.wordWrap = ((_e = this._context.parameters.enableWordWrap) === null || _e === void 0 ? void 0 : _e.raw) !== false;\n    this._textConfig.showTooltipOnOverflow = ((_f = this._context.parameters.showTextTooltip) === null || _f === void 0 ? void 0 : _f.raw) !== false;\n    // Update alignment settings\n    if ((_g = this._context.parameters.boardHorizontalAlignment) === null || _g === void 0 ? void 0 : _g.raw) {\n      this._alignmentConfig.boardHorizontal = this._context.parameters.boardHorizontalAlignment.raw;\n    }\n    if ((_h = this._context.parameters.columnsHorizontalAlignment) === null || _h === void 0 ? void 0 : _h.raw) {\n      this._alignmentConfig.columnsHorizontal = this._context.parameters.columnsHorizontalAlignment.raw;\n    }\n    if ((_j = this._context.parameters.cardsVerticalAlignment) === null || _j === void 0 ? void 0 : _j.raw) {\n      this._alignmentConfig.cardsVertical = this._context.parameters.cardsVerticalAlignment.raw;\n    }\n  }\n  updateLayoutConfiguration() {\n    var _a, _b, _c, _d, _e;\n    if (((_a = this._context.parameters.columnWidth) === null || _a === void 0 ? void 0 : _a.raw) && this._context.parameters.columnWidth.raw > 0) {\n      this._layoutConfig.columnWidth = this._context.parameters.columnWidth.raw;\n    }\n    // Ensure defaults for spacing to prevent NaN\n    this._layoutConfig.columnSpacing = ((_b = this._context.parameters.columnSpacing) === null || _b === void 0 ? void 0 : _b.raw) || 16;\n    this._layoutConfig.cardSpacing = ((_c = this._context.parameters.cardSpacing) === null || _c === void 0 ? void 0 : _c.raw) || 10;\n    // Map advanced min/max width if available\n    if ((_d = this._context.parameters.columnMinWidth) === null || _d === void 0 ? void 0 : _d.raw) {\n      this._layoutConfig.columnMinWidth = this._context.parameters.columnMinWidth.raw;\n    }\n    if ((_e = this._context.parameters.columnMaxWidth) === null || _e === void 0 ? void 0 : _e.raw) {\n      this._layoutConfig.columnMaxWidth = this._context.parameters.columnMaxWidth.raw;\n    }\n  }\n  updateAuthorConfiguration() {\n    // Temporarily using basic configuration since new properties are not yet in generated types\n    // After manifest regeneration, these will be available:\n    // if (this._context.parameters.showAuthorBadge?.raw !== undefined) {\n    //     this._authorConfig.showBadge = this._context.parameters.showAuthorBadge.raw;\n    // }\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\n    // Using fixed settings for demo:\n    this._authorConfig.showBadge = true;\n    this._authorConfig.showAvatar = true;\n    this._authorConfig.displayFormat = 'Full Name';\n    this._authorConfig.position = 'Top Right';\n    this._authorConfig.avatarSize = 20;\n    this._authorConfig.badgeColor = '#e0e7ff';\n    // this._authorConfig.avatarSize = this._context.parameters.authorAvatarSize?.raw || 20;\n    // this._authorConfig.badgeColor = this._context.parameters.authorBadgeColor?.raw || '#e0e7ff';\n    // Update Priority Badge setting\n    if (((_a = this._context.parameters.showPriorityBadge) === null || _a === void 0 ? void 0 : _a.raw) !== undefined) {\n      this._showPriorityBadge = this._context.parameters.showPriorityBadge.raw;\n    }\n    // Update Share Modal setting\n    if ((_b = this._context.parameters.shareModalOverlayColor) === null || _b === void 0 ? void 0 : _b.raw) {\n      this._shareModalConfig.overlayColor = this._context.parameters.shareModalOverlayColor.raw;\n    }\n    if (((_c = this._context.parameters.shareModalOverlayOpacity) === null || _c === void 0 ? void 0 : _c.raw) !== undefined && this._context.parameters.shareModalOverlayOpacity.raw !== null) {\n      this._shareModalConfig.overlayOpacity = this._context.parameters.shareModalOverlayOpacity.raw;\n    }\n    if (((_d = this._context.parameters.shareModalBorderRadius) === null || _d === void 0 ? void 0 : _d.raw) !== undefined && this._context.parameters.shareModalBorderRadius.raw !== null) {\n      this._shareModalConfig.borderRadius = this._context.parameters.shareModalBorderRadius.raw;\n    }\n    if ((_e = this._context.parameters.shareModalShadow) === null || _e === void 0 ? void 0 : _e.raw) {\n      this._shareModalConfig.shadow = this._context.parameters.shareModalShadow.raw;\n    }\n    if ((_f = this._context.parameters.shareModalFontFamily) === null || _f === void 0 ? void 0 : _f.raw) {\n      this._shareModalConfig.fontFamily = this._context.parameters.shareModalFontFamily.raw;\n    }\n    if (((_g = this._context.parameters.shareModalFontSize) === null || _g === void 0 ? void 0 : _g.raw) !== undefined && this._context.parameters.shareModalFontSize.raw !== null) {\n      this._shareModalConfig.fontSize = this._context.parameters.shareModalFontSize.raw;\n    }\n    if ((_h = this._context.parameters.shareModalTextColor) === null || _h === void 0 ? void 0 : _h.raw) {\n      this._shareModalConfig.textColor = this._context.parameters.shareModalTextColor.raw;\n    }\n    if ((_j = this._context.parameters.shareModalHeaderColor) === null || _j === void 0 ? void 0 : _j.raw) {\n      this._shareModalConfig.headerColor = this._context.parameters.shareModalHeaderColor.raw;\n    }\n    if ((_k = this._context.parameters.shareModalBackgroundColor) === null || _k === void 0 ? void 0 : _k.raw) {\n      this._shareModalConfig.backgroundColor = this._context.parameters.shareModalBackgroundColor.raw;\n    }\n    if (((_l = this._context.parameters.shareModalPadding) === null || _l === void 0 ? void 0 : _l.raw) !== undefined && this._context.parameters.shareModalPadding.raw !== null) {\n      this._shareModalConfig.padding = this._context.parameters.shareModalPadding.raw;\n    }\n    if ((_m = this._context.parameters.shareModalTextAlignment) === null || _m === void 0 ? void 0 : _m.raw) {\n      this._shareModalConfig.textAlignment = this._context.parameters.shareModalTextAlignment.raw;\n    }\n  }\n  updateRadiusAndShadowConfiguration() {\n    // Demo settings for showcase (after manifest regeneration will be configurable):\n    this._radiusConfig = {\n      board: 12,\n      column: 16,\n      card: 10,\n      badge: 20\n    };\n    this._shadowConfig = {\n      board: 'Medium',\n      column: 'Subtle',\n      card: 'Medium',\n      cardHover: 'Strong',\n      customBoard: '',\n      customColumn: '',\n      customCard: '',\n      customCardHover: ''\n    };\n    this._hoverConfig = {\n      enabled: true,\n      transitionDuration: 250,\n      cardScale: 1.03,\n      cardElevation: 8\n    };\n  }\n  getShadowValue(intensity) {\n    var customValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    if (intensity === 'Custom' && customValue) {\n      return customValue;\n    }\n    switch (intensity) {\n      case 'None':\n        return 'none';\n      case 'Subtle':\n        return '0 1px 2px rgba(0, 0, 0, 0.05)';\n      case 'Medium':\n        return '0 4px 6px rgba(0, 0, 0, 0.1)';\n      case 'Strong':\n        return '0 10px 15px rgba(0, 0, 0, 0.15)';\n      default:\n        return '0 1px 3px rgba(0, 0, 0, 0.1)';\n    }\n  }\n  getHoverShadowValue(intensity) {\n    var customValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    if (intensity === 'Custom' && customValue) {\n      return customValue;\n    }\n    switch (intensity) {\n      case 'None':\n        return 'none';\n      case 'Subtle':\n        return '0 2px 4px rgba(0, 0, 0, 0.08)';\n      case 'Medium':\n        return '0 8px 25px rgba(0, 0, 0, 0.15)';\n      case 'Strong':\n        return '0 20px 40px rgba(0, 0, 0, 0.25)';\n      default:\n        return '0 8px 25px rgba(0, 0, 0, 0.15)';\n    }\n  }\n  loadData() {\n    console.log(\"Loading Data...\");\n    var dataSet = this._context.parameters.taskDataSet;\n    var legacyData = this._context.parameters.tasksData;\n    // 1. Try Dataset\n    if (dataSet && dataSet.loading === false && dataSet.sortedRecordIds && dataSet.sortedRecordIds.length > 0) {\n      console.log(\"Loading from Dataset\");\n      this.loadFromDataset();\n      // If dataset loading resulted in 0 tasks (e.g. empty records), fallback to samples\n      if (Object.keys(this._boardData.tasks).length === 0) {\n        console.log(\"Dataset yielded no tasks. Falling back to Samples.\");\n        this._boardData = this.getEmptyBoardDataWithSamples();\n      }\n    }\n    // 2. Try JSON Property\n    else if (legacyData && legacyData.raw) {\n      console.log(\"Loading from JSON\");\n      this.loadFromLegacyData();\n    }\n    // 3. Fallback to Samples\n    else {\n      console.log(\"Loading Samples (Fallback)\");\n      this._boardData = this.getEmptyBoardDataWithSamples();\n    }\n  }\n  loadFromDataset() {\n    // Initialize empty board structure to populate\n    var tasks = {};\n    // Clear existing task IDs in columns but keep the column structure\n    Object.keys(this._boardData.columns).forEach(colId => {\n      this._boardData.columns[colId].taskIds = [];\n    });\n    var dataSet = this._context.parameters.taskDataSet;\n    if (!dataSet || !dataSet.sortedRecordIds) return;\n    dataSet.sortedRecordIds.forEach(recordId => {\n      var record = dataSet.records[recordId];\n      // Safe helper to get value or alias\n      var getValue = alias => {\n        try {\n          // Debug what values we are getting\n          var val = record.getFormattedValue(alias);\n          return val;\n        } catch (e) {\n          return \"\";\n        }\n      };\n      console.log(\"Record:\", recordId, \"Title:\", getValue('title'), \"Status:\", getValue('status'));\n      // Detect if this is just harness mock data (all values are 'val')\n      if (getValue('title') === 'val' && getValue('status') === 'val') {\n        console.log(\"Detected Harness Mock Data (val). Skipping dataset to use rich samples.\");\n        return; // Skip this record\n      }\n      var task = {\n        id: getValue('id') || recordId,\n        title: getValue('title') || 'Untitled',\n        status: getValue('status') || 'Unknown',\n        priority: getValue('priority'),\n        assignedTo: getValue('assignedto'),\n        dueDate: getValue('duedate'),\n        description: getValue('description'),\n        recordId: recordId,\n        // Map author fields if they exist in dataset aliases\n        authorFirstName: getValue('authorFirstNameField') // Won't work directly via property-set unless mapped? \n        // We'll trust the property-set names or direct field mapping if configured\n      };\n      // Add to tasks map\n      tasks[task.id] = task;\n      // Assign to column\n      var columnId = this.getColumnIdByStatus(task.status);\n      if (columnId && this._boardData.columns[columnId]) {\n        this._boardData.columns[columnId].taskIds.push(task.id);\n      } else {\n        // If no matching column, maybe put in first column or a 'fallback' column?\n        // For now, put in first column\n        var firstColId = this._boardData.columnOrder[0];\n        if (firstColId) {\n          this._boardData.columns[firstColId].taskIds.push(task.id);\n        }\n      }\n    });\n    this._boardData.tasks = tasks;\n  }\n  loadFromLegacyData() {\n    try {\n      var parsedData = JSON.parse(this._context.parameters.tasksData.raw);\n      // Merge with empty board to ensure structure\n      var emptyBoard = this.getEmptyBoardData();\n      // If the JSON contains full board data (columns + tasks)\n      if (parsedData.columns && parsedData.tasks) {\n        this._boardData = Object.assign(Object.assign({}, emptyBoard), parsedData);\n      }\n      // If it's just an array of tasks (simplified JSON input)\n      else if (Array.isArray(parsedData)) {\n        this._boardData = emptyBoard;\n        parsedData.forEach(t => {\n          var task = t;\n          this._boardData.tasks[task.id] = task;\n          var colId = this.getColumnIdByStatus(task.status);\n          if (colId) this._boardData.columns[colId].taskIds.push(task.id);\n        });\n      } else {\n        this._boardData = Object.assign(Object.assign({}, emptyBoard), parsedData);\n      }\n    } catch (e) {\n      console.warn(\"Failed to parse tasks data (JSON)\", e);\n      // Don't overwrite if we failed\n    }\n  }\n  getEmptyBoardDataWithSamples() {\n    var columns = {};\n    var columnOrder = [];\n    this._columnDefinitions.forEach(colDef => {\n      columns[colDef.id] = {\n        id: colDef.id,\n        title: colDef.title,\n        taskIds: [],\n        statusValues: colDef.statusValues,\n        color: colDef.color\n      };\n      columnOrder.push(colDef.id);\n    });\n    // Sample tasks with author information\n    var sampleTasks = {\n      'task-1': {\n        id: 'task-1',\n        title: 'Implement new API endpoints',\n        status: 'Todo',\n        priority: 'high',\n        dueDate: 'Today',\n        assignedTo: 'john.smith@company.com',\n        authorFirstName: 'John',\n        authorLastName: 'Smith',\n        authorEmail: 'john.smith@company.com',\n        authorAvatar: 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop&crop=face',\n        description: 'Design and implement RESTful API endpoints for the new user management module. Ensure proper authentication, validation, and error handling are in place. Documentation must be updated with Swagger examples and response schemas.'\n      },\n      'task-2': {\n        id: 'task-2',\n        title: 'Fix user interface bug',\n        status: 'In Progress',\n        priority: 'medium',\n        dueDate: 'Tomorrow',\n        assignedTo: 'mary.johnson@company.com',\n        authorFirstName: 'Mary',\n        authorLastName: 'Johnson',\n        authorEmail: 'mary.johnson@company.com',\n        description: 'Investigate the alignment issue on the dashboard where the navigation bar overlaps with the content area on mobile devices. Fix the CSS media queries and verify across different screen sizes to ensure a responsive layout.'\n      },\n      'task-3': {\n        id: 'task-3',\n        title: 'Update documentation',\n        status: 'Review',\n        priority: 'low',\n        dueDate: 'Next week',\n        assignedTo: 'sarah.wilson@company.com',\n        authorFirstName: 'Sarah',\n        authorLastName: 'Wilson',\n        authorEmail: 'sarah.wilson@company.com',\n        authorAvatar: 'https://images.unsplash.com/photo-1494790108755-2616b612c3c5?w=100&h=100&fit=crop&crop=face',\n        description: 'Review and update the project README and internal developer guides. Include instructions for setting up the local environment and running the new test suite. Ensure all deprecated API references are removed.'\n      },\n      'task-4': {\n        id: 'task-4',\n        title: 'Test new features',\n        status: 'Done',\n        priority: 'high',\n        dueDate: 'Yesterday',\n        assignedTo: 'mike.davis@company.com',\n        authorFirstName: 'Mike',\n        authorLastName: 'Davis',\n        authorEmail: 'mike.davis@company.com',\n        description: 'Execute the regression test suite for the payment gateway integration. Log any defects found in the issue tracker and verify fixes for previously reported critical bugs. Generate a final test report for the release.'\n      },\n      'task-5': {\n        id: 'task-5',\n        title: 'Prepare client presentation',\n        status: 'Todo',\n        priority: 'medium',\n        dueDate: 'Friday',\n        assignedTo: 'anna.brown@company.com',\n        authorFirstName: 'Anna',\n        authorLastName: 'Brown',\n        authorEmail: 'anna.brown@company.com',\n        authorAvatar: 'https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=100&h=100&fit=crop&crop=face',\n        description: 'Create a slide deck for the Q3 progress review with the client. Highlight key milestones achieved, budget utilization, and upcoming risks. Practice the demo flow to ensure a smooth presentation during the meeting.'\n      },\n      'task-6': {\n        id: 'task-6',\n        title: 'Code review and merge requests',\n        status: 'In Progress',\n        priority: 'low',\n        dueDate: 'Monday',\n        assignedTo: 'david.taylor@company.com',\n        authorFirstName: 'David',\n        authorLastName: 'Taylor',\n        authorEmail: 'david.taylor@company.com'\n      }\n    };\n    // Assign tasks to columns\n    columns['todo'].taskIds = ['task-1', 'task-5'];\n    columns['inprogress'].taskIds = ['task-2', 'task-6'];\n    columns['review'].taskIds = ['task-3'];\n    columns['done'].taskIds = ['task-4'];\n    return {\n      tasks: sampleTasks,\n      columns,\n      columnOrder\n    };\n  }\n  getColumnIdByStatus(status) {\n    var _a;\n    for (var column of this._columnDefinitions) {\n      if (column.statusValues.some(val => val.toLowerCase() === status.toLowerCase())) {\n        return column.id;\n      }\n    }\n    return ((_a = this._columnDefinitions[0]) === null || _a === void 0 ? void 0 : _a.id) || null;\n  }\n  getEmptyBoardData() {\n    var columns = {};\n    var columnOrder = [];\n    this._columnDefinitions.forEach(colDef => {\n      columns[colDef.id] = {\n        id: colDef.id,\n        title: colDef.title,\n        taskIds: [],\n        statusValues: colDef.statusValues,\n        color: colDef.color\n      };\n      columnOrder.push(colDef.id);\n    });\n    return {\n      tasks: {},\n      columns,\n      columnOrder\n    };\n  }\n  renderBoard() {\n    var _a, _b, _c, _d;\n    this.applyCustomStyles();\n    var boardHeight = ((_a = this._context.parameters.boardHeight) === null || _a === void 0 ? void 0 : _a.raw) || 0;\n    var enableDragDrop = ((_b = this._context.parameters.enableDragDrop) === null || _b === void 0 ? void 0 : _b.raw) !== false;\n    this._container.innerHTML = '';\n    this._container.className = 'kanban-board-container';\n    // Dynamic height: 0 means 100% (fill parent), otherwise fixed pixel height\n    this._container.style.height = boardHeight > 0 ? \"\".concat(boardHeight, \"px\") : '100%';\n    if (boardHeight <= 0) {\n      this._container.style.minHeight = '100vh'; // Ensure full height in harness\n    }\n    this._container.style.overflow = 'auto';\n    this._container.style.fontFamily = this._styleConfig.fontFamily;\n    this._container.style.fontSize = \"\".concat(this._styleConfig.fontSize, \"px\");\n    this._container.style.background = this._styleConfig.backgroundColor;\n    this._container.style.color = this._styleConfig.textColor;\n    this.applyBoardAlignment(this._container);\n    var boardWrapper = document.createElement('div');\n    console.log(\"Rendering Board Data:\", {\n      tasks: this._boardData ? Object.keys(this._boardData.tasks).length : 'No Data',\n      columns: this._boardData ? this._boardData.columnOrder.length : 'No Data',\n      columnOrder: (_c = this._boardData) === null || _c === void 0 ? void 0 : _c.columnOrder\n    });\n    boardWrapper.className = 'kanban-board-wrapper';\n    boardWrapper.style.display = 'flex';\n    boardWrapper.style.gap = \"\".concat(this._layoutConfig.columnSpacing, \"px\");\n    boardWrapper.style.height = '100%';\n    boardWrapper.style.padding = \"\".concat(((_d = this._context.parameters.cardSpacing) === null || _d === void 0 ? void 0 : _d.raw) || 10, \"px\"); // Use card spacing or a board padding default\n    this.applyColumnsAlignment(boardWrapper);\n    var totalColumns = this._boardData.columnOrder.length;\n    var columnWidth = this._layoutConfig.columnWidth;\n    if (columnWidth <= 0 || isNaN(columnWidth)) {\n      // Fallback to container width or window width or safe default\n      var containerWidth = this._container.clientWidth || window.innerWidth || 1024;\n      var availableWidth = containerWidth - this._layoutConfig.columnSpacing * (totalColumns + 1);\n      // Ensure we have a valid number for calculation\n      var safeAvailableWidth = Math.max(availableWidth, 300 * totalColumns); // Ensure at least some width\n      columnWidth = Math.max(this._layoutConfig.columnMinWidth, Math.min(this._layoutConfig.columnMaxWidth, safeAvailableWidth / (totalColumns || 1)));\n    }\n    this._boardData.columnOrder.forEach(columnId => {\n      var column = this._boardData.columns[columnId];\n      if (column) {\n        var columnElement = this.createColumn(column, columnWidth, enableDragDrop);\n        boardWrapper.appendChild(columnElement);\n      }\n    });\n    this._container.appendChild(boardWrapper);\n  }\n  applyBoardAlignment(container) {\n    switch (this._alignmentConfig.boardHorizontal) {\n      case 'Center':\n        container.style.display = 'flex';\n        container.style.justifyContent = 'center';\n        break;\n      case 'Right':\n        container.style.display = 'flex';\n        container.style.justifyContent = 'flex-end';\n        break;\n      case 'Stretch':\n        container.style.width = '100%';\n        break;\n      default:\n        container.style.display = 'flex';\n        container.style.justifyContent = 'flex-start';\n    }\n  }\n  applyColumnsAlignment(wrapper) {\n    wrapper.style.display = 'flex';\n    wrapper.style.height = '100%';\n    wrapper.style.padding = \"\".concat(this._layoutConfig.columnSpacing, \"px\");\n    wrapper.style.gap = \"\".concat(this._layoutConfig.columnSpacing, \"px\");\n    switch (this._alignmentConfig.columnsHorizontal) {\n      case 'Center':\n        wrapper.style.justifyContent = 'center';\n        break;\n      case 'Right':\n        wrapper.style.justifyContent = 'flex-end';\n        break;\n      case 'Stretch':\n        wrapper.style.justifyContent = 'stretch';\n        break;\n      default:\n        wrapper.style.justifyContent = 'flex-start';\n    }\n  }\n  createColumn(column, width, enableDragDrop) {\n    var columnDiv = document.createElement('div');\n    columnDiv.className = 'kanban-column';\n    columnDiv.className = 'kanban-column';\n    // Responsive Width Logic\n    if (width > 0) {\n      // Fixed width mode\n      columnDiv.style.flex = \"0 0 \".concat(width, \"px\");\n    } else {\n      // Auto-fit mode (equal distribution)\n      columnDiv.style.flex = '1 1 0px';\n    }\n    // Apply min/max constraints if defined\n    if (this._layoutConfig.columnMinWidth > 0) {\n      columnDiv.style.minWidth = \"\".concat(this._layoutConfig.columnMinWidth, \"px\");\n    }\n    if (this._layoutConfig.columnMaxWidth > 0 && this._layoutConfig.columnMaxWidth < 9999) {\n      columnDiv.style.maxWidth = \"\".concat(this._layoutConfig.columnMaxWidth, \"px\");\n    }\n    columnDiv.style.minHeight = '400px';\n    columnDiv.style.backgroundColor = column.color || this._styleConfig.columnBackgroundColor;\n    columnDiv.style.borderRadius = '12px';\n    columnDiv.style.border = \"1px solid \".concat(this.hexToRgba(this._styleConfig.primaryColor, 0.2));\n    columnDiv.setAttribute('data-column-id', column.id);\n    var header = this.createColumnHeader(column);\n    columnDiv.appendChild(header);\n    var tasksContainer = this.createTasksContainer(column, enableDragDrop);\n    columnDiv.appendChild(tasksContainer);\n    return columnDiv;\n  }\n  createColumnHeader(column) {\n    var header = document.createElement('div');\n    header.className = 'kanban-column-header';\n    header.style.padding = '12px';\n    header.style.borderBottom = \"1px solid \".concat(this.hexToRgba(this._styleConfig.primaryColor, 0.2));\n    header.style.display = 'flex';\n    header.style.justifyContent = 'space-between';\n    header.style.alignItems = 'center';\n    header.style.backgroundColor = this._styleConfig.cardBackgroundColor;\n    header.style.borderRadius = '12px 12px 0 0';\n    var titleContainer = document.createElement('div');\n    titleContainer.style.display = 'flex';\n    titleContainer.style.alignItems = 'center';\n    titleContainer.style.gap = '8px';\n    var title = document.createElement('h3');\n    title.textContent = column.title;\n    title.style.margin = '0';\n    title.style.fontSize = \"\".concat(this._styleConfig.fontSize, \"px\");\n    title.style.fontWeight = '600';\n    title.style.color = this._styleConfig.textColor;\n    title.style.fontFamily = this._styleConfig.fontFamily;\n    title.style.textAlign = this._alignmentConfig.text.toLowerCase();\n    var taskCount = document.createElement('span');\n    taskCount.textContent = column.taskIds.length.toString();\n    taskCount.style.backgroundColor = this.hexToRgba(this._styleConfig.primaryColor, 0.1);\n    taskCount.style.color = this._styleConfig.primaryColor;\n    taskCount.style.fontSize = \"\".concat(Math.max(10, this._styleConfig.fontSize - 2), \"px\");\n    taskCount.style.padding = '2px 8px';\n    taskCount.style.borderRadius = '12px';\n    taskCount.style.fontWeight = '500';\n    taskCount.style.fontFamily = this._styleConfig.fontFamily;\n    titleContainer.appendChild(title);\n    titleContainer.appendChild(taskCount);\n    header.appendChild(titleContainer);\n    return header;\n  }\n  createTasksContainer(column, enableDragDrop) {\n    var tasksContainer = document.createElement('div');\n    tasksContainer.className = 'kanban-tasks-container';\n    tasksContainer.style.padding = \"\".concat(this._layoutConfig.cardSpacing, \"px\");\n    tasksContainer.style.minHeight = '300px';\n    tasksContainer.style.overflowY = 'auto';\n    tasksContainer.setAttribute('data-column-id', column.id);\n    this.applyCardsVerticalAlignment(tasksContainer);\n    if (enableDragDrop) {\n      this.setupDropZone(tasksContainer);\n    }\n    column.taskIds.forEach(taskId => {\n      var task = this._boardData.tasks[taskId];\n      if (task) {\n        var taskElement = this.createTaskCard(task, enableDragDrop);\n        tasksContainer.appendChild(taskElement);\n      }\n    });\n    return tasksContainer;\n  }\n  applyCardsVerticalAlignment(container) {\n    switch (this._alignmentConfig.cardsVertical) {\n      case 'Middle':\n        container.style.display = 'flex';\n        container.style.flexDirection = 'column';\n        container.style.justifyContent = 'center';\n        break;\n      case 'Bottom':\n        container.style.display = 'flex';\n        container.style.flexDirection = 'column';\n        container.style.justifyContent = 'flex-end';\n        break;\n      case 'Stretch':\n        container.style.display = 'flex';\n        container.style.flexDirection = 'column';\n        container.style.justifyContent = 'stretch';\n        break;\n      default:\n        container.style.display = 'flex';\n        container.style.flexDirection = 'column';\n        container.style.justifyContent = 'flex-start';\n    }\n  }\n  createTaskCard(task, enableDragDrop) {\n    var taskDiv = document.createElement('div');\n    taskDiv.className = 'kanban-task-card fluent-card';\n    taskDiv.style.backgroundColor = this._styleConfig.cardBackgroundColor;\n    taskDiv.style.border = '1px solid #E5E7EB'; // Specification color\n    taskDiv.style.borderRadius = '16px'; // Celkový kontejner: Radius 16px\n    taskDiv.style.marginBottom = \"\".concat(this._layoutConfig.cardSpacing, \"px\");\n    taskDiv.style.cursor = enableDragDrop ? 'grab' : 'default';\n    taskDiv.style.boxShadow = '0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)';\n    taskDiv.style.transition = \"all \".concat(this._hoverConfig.transitionDuration, \"ms ease\");\n    taskDiv.style.fontFamily = this._styleConfig.fontFamily;\n    taskDiv.style.position = 'relative';\n    taskDiv.style.display = 'flex';\n    taskDiv.style.flexDirection = 'column';\n    taskDiv.style.overflow = 'hidden';\n    taskDiv.setAttribute('data-task-id', task.id);\n    // --- A) HEADER BLOCK (Top Row) ---\n    var header = document.createElement('div');\n    header.style.display = 'flex';\n    header.style.flexDirection = 'row';\n    header.style.gap = '12px'; // Small gap between avatar and text\n    header.style.padding = '20px 20px 0 20px'; // Generous padding, no bottom\n    header.style.alignItems = 'flex-start'; // Align to top\n    // Object 1: Avatar (Left anchor)\n    if (this._authorConfig.showAvatar) {\n      var avatarContainer = document.createElement('div');\n      avatarContainer.style.width = '40px'; // Fixed size\n      avatarContainer.style.height = '40px';\n      avatarContainer.style.flexShrink = '0'; // Prevent shrinking\n      var avatar = this.createAuthorAvatar(task);\n      if (avatar) {\n        avatar.style.width = '100%';\n        avatar.style.height = '100%';\n        avatarContainer.appendChild(avatar);\n        header.appendChild(avatarContainer);\n      }\n    }\n    // Object 2: Text Group (Right of avatar)\n    var titlesContainer = document.createElement('div');\n    titlesContainer.style.display = 'flex';\n    titlesContainer.style.flexDirection = 'column'; // Vertical stack\n    titlesContainer.style.justifyContent = 'center';\n    titlesContainer.style.overflow = 'hidden';\n    titlesContainer.style.flex = '1 1 0'; // Allow shrinking and growing from 0 base\n    titlesContainer.style.minWidth = '0'; // Critical for text truncation in flexbox\n    titlesContainer.style.maxWidth = '100%'; // Don't exceed parent\n    // Row 1: Title - FIRST (top) - [4] NADPIS\n    var lblTitle = document.createElement('div');\n    // Remove className to avoid CSS conflicts\n    lblTitle.textContent = task.title;\n    lblTitle.setAttribute('title', task.title); // Hover tooltip\n    // Use setProperty with !important to override any CSS\n    lblTitle.style.setProperty('font-weight', '700', 'important'); // [4] Bold\n    lblTitle.style.setProperty('font-size', '15px', 'important');\n    lblTitle.style.setProperty('color', '#111827', 'important'); // [4] Barva: Tmavá\n    lblTitle.style.setProperty('line-height', '1.4', 'important');\n    lblTitle.style.setProperty('white-space', 'nowrap', 'important');\n    lblTitle.style.setProperty('overflow', 'hidden', 'important');\n    lblTitle.style.setProperty('text-overflow', 'ellipsis', 'important');\n    lblTitle.style.setProperty('max-width', '100%', 'important');\n    lblTitle.style.setProperty('width', '100%', 'important');\n    lblTitle.style.setProperty('display', 'block', 'important');\n    lblTitle.style.setProperty('word-break', 'keep-all', 'important');\n    lblTitle.style.setProperty('word-wrap', 'normal', 'important');\n    // Row 2: Date (Meta) - SECOND (below title) - [5] DATUM\n    var lblSubtitle = document.createElement('div');\n    lblSubtitle.className = 'task-subtitle';\n    lblSubtitle.textContent = task.dueDate || 'Today';\n    lblSubtitle.style.fontWeight = '400'; // Regular\n    lblSubtitle.style.fontSize = '13px';\n    lblSubtitle.style.color = '#6B7280'; // [5] Barva: Šedá\n    lblSubtitle.style.marginTop = '4px'; // Small gap after title\n    lblSubtitle.style.textAlign = 'left'; // Align with title start\n    titlesContainer.appendChild(lblTitle); // Title first\n    titlesContainer.appendChild(lblSubtitle); // Date second\n    header.appendChild(titlesContainer);\n    taskDiv.appendChild(header);\n    // --- B) CONTENT BLOCK (Middle Row) - [7] BLOK TEXTU\n    if (task.description) {\n      var body = document.createElement('div');\n      body.style.padding = '0 20px'; // [1] Padding - šířka se roztahuje do stran\n      body.style.marginTop = '16px'; // [6] MEZERA: 16px vertikálně\n      body.style.fontSize = '15px'; // Increased from 14px\n      body.style.color = '#374151'; // [7] Barva: Tmavě šedá\n      body.style.lineHeight = '1.5'; // [7] Line-height: 1.5\n      // Multiline clamping for description\n      if (this._textConfig.enableMultiline) {\n        body.style.whiteSpace = 'normal';\n        body.style.display = '-webkit-box';\n        body.style.webkitLineClamp = '3'; // Limit to 3 lines\n        body.style.webkitBoxOrient = 'vertical';\n        body.style.overflow = 'hidden';\n      } else {\n        body.style.whiteSpace = 'nowrap';\n        body.style.overflow = 'hidden';\n        body.style.textOverflow = 'ellipsis';\n      }\n      body.textContent = task.description;\n      body.title = task.description;\n      taskDiv.appendChild(body);\n    }\n    if (enableDragDrop) {\n      this.setupDragEvents(taskDiv);\n    }\n    // --- C) FOOTER BLOCK (Bottom Row) ---\n    var footer = document.createElement('div');\n    footer.style.marginTop = '8px'; // Smaller spacing\n    // [9] LINKA (Divider) - Full-width\n    var divider = document.createElement('div');\n    divider.style.width = '100%';\n    divider.style.height = '1px'; // [9] Výška 1px\n    divider.style.backgroundColor = '#E5E7EB'; // [9] Barva: Velmi světle šedá\n    divider.style.marginBottom = '8px'; // Smaller spacing\n    footer.appendChild(divider);\n    // Footer content row (Space Between layout)\n    var footerRow = document.createElement('div');\n    footerRow.style.display = 'flex';\n    footerRow.style.justifyContent = 'space-between'; // Spread items to sides\n    footerRow.style.alignItems = 'center'; // Vertical center alignment\n    footerRow.style.padding = '0 20px 8px 20px'; // Smaller bottom padding\n    // [11] Badge (Priorita) - Object Left\n    if (this._showPriorityBadge && task.priority) {\n      var priorityBadge = document.createElement('div');\n      priorityBadge.className = 'priority-badge';\n      priorityBadge.innerText = task.priority.toUpperCase();\n      priorityBadge.style.padding = '4px 12px'; // [11] Pill shape\n      priorityBadge.style.borderRadius = '999px'; // [11] Plně zaoblený (Pill)\n      priorityBadge.style.fontSize = '11px';\n      priorityBadge.style.fontWeight = '600';\n      priorityBadge.style.letterSpacing = '0.5px';\n      priorityBadge.style.height = '24px'; // [11] Výška 24px\n      priorityBadge.style.display = 'inline-flex';\n      priorityBadge.style.alignItems = 'center';\n      var p = (task.priority || '').toLowerCase();\n      if (p === 'high' || p === 'urgent') {\n        // [11] HIGH: #FEE2E2 pozadí, #B91C1C text\n        priorityBadge.style.backgroundColor = '#FEE2E2';\n        priorityBadge.style.color = '#B91C1C';\n      } else if (p === 'medium' || p === 'normal') {\n        priorityBadge.style.backgroundColor = '#fef3c7';\n        priorityBadge.style.color = '#d97706';\n      } else {\n        priorityBadge.style.backgroundColor = '#dbeafe';\n        priorityBadge.style.color = '#2563eb';\n      }\n      footerRow.appendChild(priorityBadge);\n    } else {\n      var spacer = document.createElement('div');\n      footerRow.appendChild(spacer);\n    }\n    // [12] Icon (Sdílet) - Object Right\n    var shareBtn = document.createElement('div');\n    shareBtn.className = 'share-btn';\n    // [12] Velikost ikony cca 20x20px, Barva: Šedá (#9CA3AF)\n    var svgShare = '<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M13 3C13 2.44772 13.4477 2 14 2H18C18.5523 2 19 2.44772 19 3V7C19 7.55228 18.5523 8 18 8C17.4477 8 17 7.55228 17 7V5.41421L11.7071 10.7071C11.3166 11.0976 10.6834 11.0976 10.2929 10.7071C9.90237 10.3166 9.90237 9.68342 10.2929 9.29289L15.5858 4H14C13.4477 4 13 3.55228 13 3ZM9 3C9.55228 3 10 3.44772 10 4C10 4.55228 9.55228 5 9 5H4V16H15V11C15 10.4477 15.4477 10 16 10C16.5523 10 17 10.4477 17 11V16C17 17.1046 16.1046 18 15 18H4C2.89543 18 2 17.1046 2 16V5C2 3.89543 2.89543 3 4 3H9Z\" fill=\"#9CA3AF\"/></svg>';\n    shareBtn.innerHTML = svgShare;\n    shareBtn.style.cursor = 'pointer';\n    shareBtn.style.display = 'flex';\n    shareBtn.style.alignItems = 'center';\n    shareBtn.style.justifyContent = 'center';\n    shareBtn.style.padding = '4px';\n    shareBtn.style.borderRadius = '4px';\n    shareBtn.style.transition = 'background-color 0.15s';\n    shareBtn.onmouseover = () => shareBtn.style.backgroundColor = '#f3f4f6';\n    shareBtn.onmouseout = () => shareBtn.style.backgroundColor = 'transparent';\n    shareBtn.onclick = e => {\n      e.stopPropagation();\n      // Remove any existing overlay\n      var existingOverlay = document.querySelector('.kanban-overlay');\n      if (existingOverlay) existingOverlay.remove();\n      // 1. Create Overlay (Cover the board) with glassmorphism\n      var overlay = document.createElement('div');\n      overlay.className = 'kanban-overlay';\n      overlay.style.position = 'absolute';\n      overlay.style.top = '0';\n      overlay.style.left = '0';\n      overlay.style.width = '100%';\n      overlay.style.height = '100%';\n      overlay.style.backgroundColor = this._shareModalConfig.overlayColor || 'rgba(0, 0, 0, 0.4)';\n      overlay.style.backdropFilter = 'blur(8px)'; // Glassmorphism blur\n      overlay.style.setProperty('-webkit-backdrop-filter', 'blur(8px)'); // Safari support\n      overlay.style.zIndex = '1000';\n      overlay.style.display = 'flex';\n      overlay.style.alignItems = 'center';\n      overlay.style.justifyContent = 'center';\n      overlay.onclick = () => overlay.remove();\n      // 2. Create Modal Popup - SOLID WHITE, NO transparency\n      var sharePopup = document.createElement('div');\n      sharePopup.className = 'share-popup';\n      sharePopup.style.position = 'relative';\n      sharePopup.style.display = 'flex';\n      sharePopup.style.flexDirection = 'column';\n      // Force solid white background - ignore config for now\n      sharePopup.style.backgroundColor = '#ffffff';\n      sharePopup.style.setProperty('background-color', '#ffffff', 'important');\n      sharePopup.style.setProperty('background', '#ffffff', 'important');\n      sharePopup.style.borderRadius = '12px';\n      sharePopup.style.padding = '16px';\n      sharePopup.style.boxShadow = '0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)';\n      sharePopup.style.width = '420px';\n      sharePopup.style.gap = '12px';\n      sharePopup.style.zIndex = '1001';\n      sharePopup.style.opacity = '1'; // Explicitly solid\n      sharePopup.style.backdropFilter = 'none'; // NO glassmorphism on popup itself\n      sharePopup.style.setProperty('-webkit-backdrop-filter', 'none', 'important');\n      sharePopup.style.setProperty('backdrop-filter', 'none', 'important');\n      sharePopup.onclick = ev => ev.stopPropagation();\n      // Header with email recipient and close button\n      var headerDiv = document.createElement('div');\n      headerDiv.style.display = 'flex';\n      headerDiv.style.justifyContent = 'space-between';\n      headerDiv.style.alignItems = 'center';\n      headerDiv.style.marginBottom = '4px';\n      var headerTitle = document.createElement('h2');\n      var emailAddress = task.assignedTo || 'alex.morgan@company.com';\n      headerTitle.textContent = \"Send message to \".concat(emailAddress);\n      headerTitle.setAttribute('title', emailAddress); // Hover tooltip for full email\n      headerTitle.style.fontSize = '18px';\n      headerTitle.style.fontWeight = '600';\n      headerTitle.style.color = '#111827';\n      headerTitle.style.margin = '0';\n      headerTitle.style.overflow = 'hidden';\n      headerTitle.style.textOverflow = 'ellipsis';\n      headerTitle.style.whiteSpace = 'nowrap';\n      headerTitle.style.flex = '1';\n      var closeBtn = document.createElement('button');\n      closeBtn.innerHTML = '×';\n      closeBtn.style.background = 'none';\n      closeBtn.style.border = 'none';\n      closeBtn.style.fontSize = '28px';\n      closeBtn.style.color = '#9ca3af';\n      closeBtn.style.cursor = 'pointer';\n      closeBtn.style.padding = '0';\n      closeBtn.style.width = '32px';\n      closeBtn.style.height = '32px';\n      closeBtn.style.display = 'flex';\n      closeBtn.style.alignItems = 'center';\n      closeBtn.style.justifyContent = 'center';\n      closeBtn.style.flexShrink = '0';\n      closeBtn.onclick = () => overlay.remove();\n      closeBtn.onmouseover = () => closeBtn.style.color = '#6b7280';\n      closeBtn.onmouseout = () => closeBtn.style.color = '#9ca3af';\n      headerDiv.appendChild(headerTitle);\n      headerDiv.appendChild(closeBtn);\n      sharePopup.appendChild(headerDiv);\n      // Subject field\n      var subjectContainer = document.createElement('div');\n      subjectContainer.style.marginTop = '4px'; // Reduced from 16px\n      var subjectLabel = document.createElement('label');\n      subjectLabel.textContent = 'SUBJECT';\n      subjectLabel.style.display = 'block';\n      subjectLabel.style.fontSize = '11px';\n      subjectLabel.style.fontWeight = '600';\n      subjectLabel.style.color = '#6b7280';\n      subjectLabel.style.marginBottom = '2px'; // Reduced from 8px\n      subjectLabel.style.letterSpacing = '0.5px';\n      var subjectInput = document.createElement('input');\n      subjectInput.type = 'text';\n      subjectInput.value = task.title;\n      subjectInput.style.width = '100%';\n      subjectInput.style.padding = '6px 8px';\n      subjectInput.style.border = '1px solid #e5e7eb';\n      subjectInput.style.borderRadius = '6px';\n      subjectInput.style.fontSize = '14px';\n      subjectInput.style.color = '#111827';\n      subjectInput.style.backgroundColor = '#f9fafb';\n      subjectInput.style.boxSizing = 'border-box';\n      subjectInput.onclick = ev => ev.stopPropagation();\n      subjectContainer.appendChild(subjectLabel);\n      subjectContainer.appendChild(subjectInput);\n      sharePopup.appendChild(subjectContainer);\n      // Message field\n      var bodyDiv = document.createElement('div');\n      bodyDiv.style.marginTop = '8px'; // Reduced from 16px\n      var lblMsg = document.createElement('label');\n      lblMsg.textContent = 'MESSAGE';\n      lblMsg.style.display = 'block';\n      lblMsg.style.fontSize = '11px';\n      lblMsg.style.fontWeight = '600';\n      lblMsg.style.color = '#6b7280';\n      lblMsg.style.marginBottom = '2px'; // Reduced from 8px\n      lblMsg.style.letterSpacing = '0.5px';\n      var txtMsg = document.createElement('textarea');\n      txtMsg.placeholder = 'Add a message...';\n      txtMsg.style.width = '100%';\n      txtMsg.style.height = '80px';\n      txtMsg.style.padding = '6px 8px';\n      txtMsg.style.border = '1px solid #e5e7eb';\n      txtMsg.style.borderRadius = '6px';\n      txtMsg.style.fontSize = '14px';\n      txtMsg.style.color = '#111827';\n      txtMsg.style.backgroundColor = '#ffffff';\n      txtMsg.style.resize = 'vertical';\n      txtMsg.style.fontFamily = 'inherit';\n      txtMsg.style.boxSizing = 'border-box';\n      txtMsg.onclick = ev => ev.stopPropagation();\n      bodyDiv.appendChild(lblMsg);\n      bodyDiv.appendChild(txtMsg);\n      sharePopup.appendChild(bodyDiv);\n      // Teams and Email icons\n      var methodsDiv = document.createElement('div');\n      methodsDiv.style.display = 'flex';\n      methodsDiv.style.gap = '16px'; // Same gap as original buttons\n      methodsDiv.style.marginTop = '8px';\n      methodsDiv.style.justifyContent = 'center'; // Center the icons\n      // Teams icon button (icon only)\n      var btnTeams = document.createElement('div');\n      btnTeams.style.display = 'flex';\n      btnTeams.style.alignItems = 'center';\n      btnTeams.style.justifyContent = 'center';\n      btnTeams.style.width = '36px';\n      btnTeams.style.height = '36px';\n      btnTeams.style.padding = '8px';\n      btnTeams.style.borderRadius = '8px';\n      btnTeams.style.cursor = 'pointer';\n      btnTeams.style.transition = 'all 0.15s';\n      btnTeams.style.boxSizing = 'border-box';\n      btnTeams.setAttribute('title', 'Send via Teams');\n      // Teams icon - purple square with T\n      btnTeams.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 28 28\" fill=\"none\"><rect width=\"28\" height=\"28\" rx=\"4\" fill=\"#5059C9\"/><path d=\"M8 8h12v3H8V8zm0 5h8v7H8v-7zm10 0h2v7h-2v-7z\" fill=\"white\"/><circle cx=\"21\" cy=\"6\" r=\"3\" fill=\"#7B83EB\"/><circle cx=\"7\" cy=\"6\" r=\"2\" fill=\"#7B83EB\"/></svg>';\n      btnTeams.onclick = ev => {\n        ev.stopPropagation();\n        console.log(\"Shared to Teams: \".concat(txtMsg.value));\n        overlay.remove();\n      };\n      btnTeams.onmouseover = () => {\n        btnTeams.style.backgroundColor = '#f3f4f6';\n      };\n      btnTeams.onmouseout = () => {\n        btnTeams.style.backgroundColor = 'transparent';\n      };\n      // Outlook icon button (icon only)\n      var btnEmail = document.createElement('div');\n      btnEmail.style.display = 'flex';\n      btnEmail.style.alignItems = 'center';\n      btnEmail.style.justifyContent = 'center';\n      btnEmail.style.width = '36px';\n      btnEmail.style.height = '36px';\n      btnEmail.style.padding = '8px';\n      btnEmail.style.borderRadius = '8px';\n      btnEmail.style.cursor = 'pointer';\n      btnEmail.style.transition = 'all 0.15s';\n      btnEmail.style.boxSizing = 'border-box';\n      btnEmail.setAttribute('title', 'Send via Email');\n      // Outlook icon - blue envelope\n      btnEmail.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 28 28\" fill=\"none\"><rect x=\"2\" y=\"5\" width=\"24\" height=\"18\" rx=\"3\" fill=\"#0078D4\"/><path d=\"M2 8l12 8 12-8\" stroke=\"white\" stroke-width=\"2\" fill=\"none\"/></svg>';\n      btnEmail.onclick = ev => {\n        ev.stopPropagation();\n        console.log(\"Shared to Email: \".concat(txtMsg.value));\n        overlay.remove();\n      };\n      btnEmail.onmouseover = () => {\n        btnEmail.style.backgroundColor = '#f3f4f6';\n      };\n      btnEmail.onmouseout = () => {\n        btnEmail.style.backgroundColor = 'transparent';\n      };\n      methodsDiv.appendChild(btnTeams);\n      methodsDiv.appendChild(btnEmail);\n      sharePopup.appendChild(methodsDiv);\n      overlay.appendChild(sharePopup);\n      this._container.appendChild(overlay);\n    };\n    footerRow.appendChild(shareBtn);\n    footer.appendChild(footerRow);\n    taskDiv.appendChild(footer);\n    return taskDiv;\n  }\n  // Removed createTaskContent as logic is integrated\n  // Keeping createAuthorBadge logic inside creating avatar logic if needed, but 'createAuthorBadge' method itself might be dead code now. \n  // I will keep createAuthorBadge method signature but empty or strictly for avatar generation helper?\n  // Actually I reused `createAuthorAvatar` helper directly. \n  // `createAuthorBadge` returned the whole \"Pill\" with name. We don't need that style anymore. \n  // I will just let `createAuthorBadge` exist to minimize diff noise or replace it.\n  // Simplification: I'm replacing the whole block, so I can just drop createTaskContent.\n  // I still need createAuthorAvatar.\n  createAuthorBadge(task) {\n    // Start Deprecated/Unused in new layout (Logic moved to Header)\n    // But kept to satisfy any other internal calls if any?\n    // No other calls.\n    return null;\n  }\n  createAuthorAvatar(task) {\n    // Only use explicit avatar URL. Do not fallback to assignedTo (which is often email).\n    var avatarUrl = task.authorAvatar;\n    // Setup avatar container\n    var avatar = document.createElement('div');\n    avatar.className = 'author-avatar';\n    avatar.style.width = \"\".concat(this._authorConfig.avatarSize, \"px\");\n    avatar.style.height = \"\".concat(this._authorConfig.avatarSize, \"px\");\n    avatar.style.borderRadius = '50%';\n    avatar.style.flexShrink = '0';\n    avatar.style.display = 'flex';\n    avatar.style.alignItems = 'center';\n    avatar.style.justifyContent = 'center';\n    avatar.style.fontSize = \"\".concat(Math.max(8, this._authorConfig.avatarSize / 3), \"px\");\n    avatar.style.fontWeight = '600';\n    // If it's a valid URL, try to load as image\n    if (avatarUrl && (avatarUrl.startsWith('http') || avatarUrl.startsWith('data:image'))) {\n      var img = document.createElement('img');\n      img.src = avatarUrl;\n      img.style.width = '100%';\n      img.style.height = '100%';\n      img.style.borderRadius = '50%';\n      img.style.objectFit = 'cover';\n      // Fallback to initials if image fails to load\n      img.onerror = () => {\n        avatar.removeChild(img);\n        var initials = this.generateInitials(task);\n        avatar.textContent = initials;\n        avatar.style.backgroundColor = this.generateAvatarColor(initials);\n        avatar.style.color = '#ffffff';\n      };\n      avatar.appendChild(img);\n    } else {\n      // Generate initials avatar\n      var initials = this.generateInitials(task);\n      avatar.textContent = initials;\n      avatar.style.backgroundColor = this.generateAvatarColor(initials);\n      avatar.style.color = '#ffffff';\n    }\n    return avatar;\n  }\n  positionAuthorBadge(badge, position) {\n    switch (position) {\n      case 'Top Right':\n        badge.style.top = '8px';\n        badge.style.right = '8px';\n        break;\n      case 'Top Left':\n        badge.style.top = '8px';\n        badge.style.left = '8px';\n        break;\n      case 'Bottom Right':\n        badge.style.bottom = '8px';\n        badge.style.right = '8px';\n        break;\n      case 'Bottom Left':\n        badge.style.bottom = '8px';\n        badge.style.left = '8px';\n        break;\n      default:\n        // Top Right\n        badge.style.top = '8px';\n        badge.style.right = '8px';\n    }\n  }\n  formatAuthorName(task) {\n    var firstName = task.authorFirstName || '';\n    var lastName = task.authorLastName || '';\n    var email = task.authorEmail || task.assignedTo || '';\n    switch (this._authorConfig.displayFormat) {\n      case 'Full Name':\n        if (firstName && lastName) {\n          return \"\".concat(firstName, \" \").concat(lastName);\n        } else if (firstName) {\n          return firstName;\n        } else if (lastName) {\n          return lastName;\n        } else if (email) {\n          return email.split('@')[0]; // Use email username part\n        }\n        break;\n      case 'First Name Only':\n        return firstName || email.split('@')[0] || '';\n      case 'Last Name Only':\n        return lastName || email.split('@')[0] || '';\n      case 'Initials':\n        return this.generateInitials(task);\n      case 'Email':\n        return email;\n      case 'Custom':\n        return this.applyCustomFormat(task);\n      default:\n        if (firstName && lastName) {\n          return \"\".concat(firstName, \" \").concat(lastName);\n        } else if (email) {\n          return email.split('@')[0];\n        }\n    }\n    return '';\n  }\n  generateInitials(task) {\n    var _a;\n    var firstName = task.authorFirstName || '';\n    var lastName = task.authorLastName || '';\n    var email = task.authorEmail || task.assignedTo || '';\n    if (firstName && lastName) {\n      return \"\".concat(firstName.charAt(0)).concat(lastName.charAt(0)).toUpperCase();\n    } else if (firstName) {\n      return firstName.substring(0, 2).toUpperCase();\n    } else if (lastName) {\n      return lastName.substring(0, 2).toUpperCase();\n    } else if (email) {\n      var emailParts = email.split('@')[0];\n      if (emailParts.includes('.')) {\n        var nameParts = emailParts.split('.');\n        return \"\".concat(nameParts[0].charAt(0)).concat(((_a = nameParts[1]) === null || _a === void 0 ? void 0 : _a.charAt(0)) || '').toUpperCase();\n      } else {\n        return emailParts.substring(0, 2).toUpperCase();\n      }\n    }\n    return '??';\n  }\n  applyCustomFormat(task) {\n    var format = this._authorConfig.customFormat || '{firstName} {lastName}';\n    return format.trim();\n  }\n  generateAvatarColor(initials) {\n    // Generate consistent color based on initials\n    var colors = ['#f87171', '#fb923c', '#facc15', '#a3e635', '#34d399', '#22d3ee', '#60a5fa', '#a78bfa', '#f472b6', '#fb7185', '#fbbf24', '#86efac', '#4ade80', '#2dd4bf', '#38bdf8', '#818cf8'];\n    var hash = 0;\n    for (var i = 0; i < initials.length; i++) {\n      hash = initials.charCodeAt(i) + ((hash << 5) - hash);\n    }\n    return colors[Math.abs(hash) % colors.length];\n  }\n  createTaskMetadata(task) {\n    var metadata = document.createElement('div');\n    metadata.className = 'task-metadata';\n    metadata.style.display = 'flex';\n    metadata.style.justifyContent = 'space-between';\n    metadata.style.alignItems = 'center';\n    metadata.style.fontSize = \"\".concat(Math.max(10, this._styleConfig.fontSize - 2), \"px\");\n    metadata.style.color = this._styleConfig.secondaryTextColor;\n    metadata.style.fontFamily = this._styleConfig.fontFamily;\n    if (task.priority) {\n      var priority = document.createElement('span');\n      priority.textContent = task.priority;\n      priority.style.padding = '2px 6px';\n      priority.style.borderRadius = '4px';\n      priority.style.fontSize = \"\".concat(Math.max(8, this._styleConfig.fontSize - 4), \"px\");\n      priority.style.fontWeight = '500';\n      priority.style.textTransform = 'uppercase';\n      switch (task.priority.toLowerCase()) {\n        case 'high':\n          priority.style.backgroundColor = this.hexToRgba(this._styleConfig.highPriorityColor, 0.2);\n          priority.style.color = this._styleConfig.highPriorityColor;\n          break;\n        case 'medium':\n          priority.style.backgroundColor = this.hexToRgba(this._styleConfig.mediumPriorityColor, 0.2);\n          priority.style.color = this._styleConfig.mediumPriorityColor;\n          break;\n        case 'low':\n          priority.style.backgroundColor = this.hexToRgba(this._styleConfig.lowPriorityColor, 0.2);\n          priority.style.color = this._styleConfig.lowPriorityColor;\n          break;\n      }\n      metadata.appendChild(priority);\n    }\n    if (task.dueDate || task.assignedTo) {\n      var details = document.createElement('div');\n      details.style.display = 'flex';\n      details.style.gap = '8px';\n      if (task.dueDate) {\n        var dueDate = document.createElement('span');\n        dueDate.textContent = task.dueDate;\n        details.appendChild(dueDate);\n      }\n      // Email/Assignee removed as requested\n      /* if (task.assignedTo) {\n          const assignee = document.createElement('span');\n          assignee.textContent = task.assignedTo;\n          assignee.style.backgroundColor = this.hexToRgba(this._styleConfig.primaryColor, 0.1);\n          assignee.style.color = this._styleConfig.primaryColor;\n          assignee.style.padding = '2px 6px';\n          assignee.style.borderRadius = '4px';\n          details.appendChild(assignee);\n      } */\n      metadata.appendChild(details);\n    }\n    return metadata;\n  }\n  moveTask(taskId, sourceColumnId, targetColumnId) {\n    if (sourceColumnId === targetColumnId) return;\n    var sourceColumn = this._boardData.columns[sourceColumnId];\n    var targetColumn = this._boardData.columns[targetColumnId];\n    var task = this._boardData.tasks[taskId];\n    if (!sourceColumn || !targetColumn || !task) return;\n    var taskIndex = sourceColumn.taskIds.indexOf(taskId);\n    if (taskIndex > -1) {\n      sourceColumn.taskIds.splice(taskIndex, 1);\n    }\n    targetColumn.taskIds.push(taskId);\n    task.status = targetColumn.statusValues[0] || targetColumn.title;\n    this.renderBoard();\n    this._lastUpdatedTask = taskId;\n    this._pendingUpdate = true;\n    this._notifyOutputChanged();\n  }\n  getOutputs() {\n    var lastMovedTask = this._lastUpdatedTask ? this._boardData.tasks[this._lastUpdatedTask] : null;\n    return {\n      updatedTasksData: JSON.stringify(this._boardData),\n      lastMovedTask: lastMovedTask ? JSON.stringify({\n        taskId: lastMovedTask.recordId || lastMovedTask.id,\n        newStatus: lastMovedTask.status,\n        title: lastMovedTask.title,\n        timestamp: new Date().toISOString()\n      }) : \"\"\n    };\n  }\n  hexToRgba(hex, alpha) {\n    hex = hex.replace('#', '');\n    var r = parseInt(hex.slice(0, 2), 16);\n    var g = parseInt(hex.slice(2, 4), 16);\n    var b = parseInt(hex.slice(4, 6), 16);\n    return \"rgba(\".concat(r, \", \").concat(g, \", \").concat(b, \", \").concat(alpha, \")\");\n  }\n  formatDate(date) {\n    if (!date) return '';\n    var now = new Date();\n    var taskDate = new Date(date);\n    var diffDays = Math.floor((taskDate.getTime() - now.getTime()) / (1000 * 60 * 60 * 24));\n    if (diffDays === 0) return 'Today';\n    if (diffDays === 1) return 'Tomorrow';\n    return taskDate.toLocaleDateString();\n  }\n  applyCustomStyles() {\n    var _a;\n    var styleElement = document.getElementById('kanban-custom-styles');\n    if (!styleElement) {\n      styleElement = document.createElement('style');\n      styleElement.id = 'kanban-custom-styles';\n      document.head.appendChild(styleElement);\n    }\n    var customCSS = \"\\n            .kanban-board-container {\\n                position: relative !important;\\n                font-family: '\".concat(this._styleConfig.fontFamily, \"', sans-serif !important;\\n                font-size: \").concat(this._styleConfig.fontSize, \"px !important;\\n                background-color: \").concat(this._styleConfig.backgroundColor, \" !important;\\n                color: \").concat(this._styleConfig.textColor, \" !important;\\n                border-radius: \").concat(this._radiusConfig.board, \"px !important;\\n                box-shadow: \").concat(this.getShadowValue(this._shadowConfig.board, this._shadowConfig.customBoard), \" !important;\\n            }\\n\\n            .kanban-board-container * {\\n                box-sizing: border-box !important;\\n            }\\n            \\n            .kanban-column {\\n                background-color: \").concat(this._styleConfig.columnBackgroundColor, \" !important;\\n                border-color: \").concat(this._styleConfig.primaryColor, \"33 !important;\\n                border-radius: \").concat(this._radiusConfig.column, \"px !important;\\n                box-shadow: \").concat(this.getShadowValue(this._shadowConfig.column, this._shadowConfig.customColumn), \" !important;\\n                transition: all \").concat(this._hoverConfig.transitionDuration, \"ms ease !important;\\n            }\\n            \\n            .kanban-column:hover {\\n                \").concat(this._hoverConfig.enabled ? \"\\n                    transform: translateY(-2px);\\n                    box-shadow: \".concat(this.getHoverShadowValue(this._shadowConfig.column, this._shadowConfig.customColumn), \";\\n                \") : '', \"\\n            }\\n            \\n            .kanban-task-card {\\n                position: relative !important;\\n                min-height: 140px !important;\\n                width: 100% !important;\\n                background-color: \").concat(this._styleConfig.cardBackgroundColor, \" !important;\\n                border-color: \").concat(this._styleConfig.primaryColor, \"33 !important;\\n                margin-bottom: \").concat(this._layoutConfig.cardSpacing, \"px !important;\\n                border-radius: \").concat(this._radiusConfig.card, \"px !important;\\n                box-shadow: \").concat(this.getShadowValue(this._shadowConfig.card, this._shadowConfig.customCard), \" !important;\\n                transition: all \").concat(this._hoverConfig.transitionDuration, \"ms ease !important;\\n            }\\n            \\n            .kanban-task-card:hover {\\n                \").concat(this._hoverConfig.enabled ? \"\\n                    transform: translateY(-\".concat(this._hoverConfig.cardElevation, \"px) scale(\").concat(this._hoverConfig.cardScale, \");\\n                    box-shadow: \").concat(this.getHoverShadowValue(this._shadowConfig.cardHover, this._shadowConfig.customCardHover), \";\\n                \") : '', \"\\n            }\\n            \\n            .task-content {\\n                line-height: \").concat(this._textConfig.lineHeight, \" !important;\\n                text-align: \").concat(this._alignmentConfig.text.toLowerCase(), \" !important;\\n                word-break: \").concat(this._textConfig.wordWrap ? 'break-word' : 'normal', \" !important;\\n                \").concat(this._textConfig.enableMultiline ? \"\\n                    white-space: normal !important;\\n                    display: -webkit-box !important;\\n                    -webkit-line-clamp: \".concat(this._textConfig.maxLines, \" !important;\\n                    -webkit-box-orient: vertical !important;\\n                    overflow: hidden !important;\\n                \") : \"\\n                    white-space: nowrap !important;\\n                    overflow: hidden !important;\\n                    text-overflow: ellipsis !important;\\n                \", \"\\n            }\\n            \\n            .task-title {\\n                font-weight: 600 !important;\\n                margin-bottom: 4px !important;\\n                line-height: \").concat(this._textConfig.lineHeight, \" !important;\\n                padding-right: \").concat(this._authorConfig.showBadge && this._authorConfig.position === 'Top Right' ? '70px' : '0', \" !important;\\n                white-space: normal !important;\\n                word-wrap: break-word !important;\\n                overflow-wrap: break-word !important;\\n                display: block !important;\\n            }\\n            \\n            .task-description {\\n                font-size: \").concat(Math.max(10, this._styleConfig.fontSize - 2), \"px !important;\\n                color: \").concat(this._styleConfig.secondaryTextColor, \" !important;\\n                line-height: \").concat(this._textConfig.lineHeight, \" !important;\\n            }\\n            \\n            .author-badge {\\n                border-radius: \").concat(this._radiusConfig.badge, \"px !important;\\n                box-shadow: \").concat(this.getShadowValue('Subtle', ''), \" !important;\\n                transition: all \").concat(this._hoverConfig.transitionDuration, \"ms ease !important;\\n            }\\n\\n            .task-metadata {\\n                flex-wrap: wrap !important;\\n                gap: 4px !important;\\n            }\\n            \\n            .author-badge:hover {\\n                \").concat(this._hoverConfig.enabled ? \"\\n                    transform: scale(1.05);\\n                    box-shadow: \".concat(this.getHoverShadowValue('Medium', ''), \";\\n                \") : '', \"\\n            }\\n            \\n            .priority-badge,\\n            .assignee-badge {\\n                border-radius: \").concat(Math.max(4, this._radiusConfig.badge / 3), \"px !important;\\n                box-shadow: \").concat(this.getShadowValue('Subtle', ''), \" !important;\\n            }\\n            \\n            .kanban-column-header {\\n                border-radius: \").concat(this._radiusConfig.column, \"px \").concat(this._radiusConfig.column, \"px 0 0 !important;\\n            }\\n            \\n            .kanban-tasks-container.drag-over {\\n                background-color: \").concat(this.hexToRgba(this._styleConfig.primaryColor, 0.1), \" !important;\\n                border-color: \").concat(this._styleConfig.primaryColor, \" !important;\\n                border-radius: 0 0 \").concat(this._radiusConfig.column, \"px \").concat(this._radiusConfig.column, \"px !important;\\n            }\\n            \\n            /* Enhanced hover effects for interactive elements */\\n            .kanban-task-card[draggable=\\\"true\\\"]:active {\\n                \").concat(this._hoverConfig.enabled ? \"\\n                    transform: scale(0.98);\\n                    box-shadow: \".concat(this.getShadowValue('Medium', ''), \";\\n                \") : '', \"\\n            }\\n            \\n            /* Text overflow fade effect */\\n            .task-content.fade-overflow {\\n                mask-image: linear-gradient(to bottom, black 70%, transparent 100%) !important;\\n                -webkit-mask-image: linear-gradient(to bottom, black 70%, transparent 100%) !important;\\n            }\\n            \\n            /* Responsive adjustments */\\n            /* Scrollbar styling */\\n            .kanban-board-container::-webkit-scrollbar {\\n                height: 8px;\\n                width: 8px;\\n            }\\n            .kanban-board-container::-webkit-scrollbar-track {\\n                background: rgba(0,0,0,0.05);\\n                border-radius: 4px;\\n            }\\n            .kanban-board-container::-webkit-scrollbar-thumb {\\n                background: rgba(0,0,0,0.2);\\n                border-radius: 4px;\\n            }\\n            .kanban-board-container::-webkit-scrollbar-thumb:hover {\\n                background: rgba(0,0,0,0.3);\\n            }\\n            \\n            .kanban-tasks-container::-webkit-scrollbar {\\n                width: 6px;\\n            }\\n            .kanban-tasks-container::-webkit-scrollbar-thumb {\\n                background-color: rgba(0,0,0,0.1);\\n                border-radius: 3px;\\n            }\\n\\n            /* Responsive adjustments */\\n            \\n            /* Share Popup Styles - Enhanced Fluent UI */\\n            .kanban-overlay {\\n                /* Background and opacity handled dynamically in JS */\\n                position: absolute;\\n                top: 0;\\n                left: 0;\\n                width: 100%;\\n                height: 100%;\\n                z-index: 999;\\n                display: flex;\\n                align-items: center;\\n                justify-content: center;\\n                border-radius: \").concat(this._radiusConfig.board, \"px;\\n            }\\n            .share-btn {\\n                width: 32px;\\n                height: 32px;\\n                background-color: transparent;\\n                border-radius: 4px; /* Fluent square-ish radius */\\n                display: flex;\\n                align-items: center;\\n                justify-content: center;\\n                cursor: pointer;\\n                transition: background-color 0.1s;\\n                color: #555;\\n            }\\n            .share-btn:hover {\\n                background-color: #f0f0f0; /* Subtle hover */\\n                color: #333;\\n            }\\n            .share-popup {\\n                background-color: \").concat(this._shareModalConfig.backgroundColor || '#ffffff', \" !important;\\n                border: 1px solid rgba(0,0,0,0.1);\\n                font-family: '\").concat(this._shareModalConfig.fontFamily || 'Segoe UI', \"', sans-serif;\\n                cursor: default;\\n                text-align: \").concat(((_a = this._shareModalConfig.textAlignment) === null || _a === void 0 ? void 0 : _a.toLowerCase()) || 'left', \";\\n                box-shadow: \").concat(this.getShadowValue(this._shareModalConfig.shadow || 'Medium', ''), \";\\n                z-index: 1001;\\n                /* Ensure no transparency on the box itself */\\n                opacity: 1 !important;\\n            }\\n            .action-btn.secondary {\\n                background-color: #f3f4f6;\\n                color: #111827;\\n                border: 1px solid rgba(0,0,0,0.1);\\n            }\\n            .action-btn.secondary:hover {\\n                background-color: #e5e7eb;\\n            }\\n            .share-popup h3 {\\n                margin: 0;\\n                font-size: \").concat((this._shareModalConfig.fontSize || 14) + 2, \"px;\\n                font-weight: 600;\\n                color: \").concat(this._shareModalConfig.headerColor || '#111827', \";\\n                /* Subject truncation logic */\\n                white-space: nowrap !important;\\n                overflow: hidden !important;\\n                text-overflow: ellipsis !important;\\n                max-width: 100% !important;\\n                display: block !important;\\n            }\\n            .share-popup label {\\n                font-size: \").concat((this._shareModalConfig.fontSize || 14) - 2, \"px;\\n                font-weight: 600;\\n                color: \").concat(this._shareModalConfig.textColor || '#111827', \";\\n                margin-bottom: 6px;\\n                display: block;\\n                opacity: 0.7;\\n            }\\n            .share-popup textarea {\\n                width: 100%;\\n                height: 100px;\\n                border: 1px solid rgba(0,0,0,0.15);\\n                background-color: #fcfcfc;\\n                border-radius: \").concat(Math.max(0, (this._shareModalConfig.borderRadius || 8) - 4), \"px;\\n                padding: 10px;\\n                font-family: inherit;\\n                font-size: \").concat(this._shareModalConfig.fontSize || 14, \"px;\\n                color: \").concat(this._shareModalConfig.textColor || '#111827', \";\\n                resize: none;\\n                outline: none;\\n                box-sizing: border-box;\\n            }\\n            .share-popup textarea:focus {\\n                border-color: \").concat(this._styleConfig.primaryColor, \";\\n                background-color: white;\\n                box-shadow: 0 0 0 2px \").concat(this.hexToRgba(this._styleConfig.primaryColor, 0.1), \";\\n            }\\n            .share-methods {\\n                display: flex;\\n                gap: 10px;\\n            }\\n            .method-btn {\\n                flex: 1;\\n                display: flex;\\n                align-items: center;\\n                justify-content: center;\\n                gap: 8px;\\n                padding: 12px;\\n                border: 1px solid rgba(0,0,0,0.1);\\n                border-radius: \").concat(Math.max(0, (this._shareModalConfig.borderRadius || 8) - 2), \"px;\\n                background: white;\\n                cursor: pointer;\\n                font-size: \").concat(this._shareModalConfig.fontSize || 14, \"px;\\n                color: \").concat(this._shareModalConfig.textColor || '#1f2937', \";\\n                transition: all 0.2s ease;\\n            }\\n            .method-btn:hover {\\n                background-color: #f8f9fa;\\n                border-color: rgba(0,0,0,0.2);\\n            }\\n            .method-btn.active {\\n                border-color: \").concat(this._styleConfig.primaryColor, \";\\n                background-color: \").concat(this.hexToRgba(this._styleConfig.primaryColor, 0.05), \";\\n                color: \").concat(this._styleConfig.primaryColor, \";\\n                font-weight: 600;\\n            }\\n            .share-actions {\\n                display: flex;\\n                justify-content: flex-end;\\n                gap: 12px;\\n                margin-top: 10px;\\n            }\\n            .action-btn {\\n                padding: 10px 24px;\\n                border-radius: \").concat(Math.max(0, this._shareModalConfig.borderRadius - 4), \"px;\\n                font-size: \").concat(this._shareModalConfig.fontSize, \"px;\\n                font-weight: 600;\\n                cursor: pointer;\\n                border: none;\\n                transition: transform 0.1s, background-color 0.2s;\\n            }\\n            .action-btn:active {\\n                transform: scale(0.97);\\n            }\\n            .action-btn.primary {\\n                background-color: \").concat(this._styleConfig.primaryColor, \";\\n                color: white;\\n                box-shadow: 0 4px 12px \").concat(this.hexToRgba(this._styleConfig.primaryColor, 0.3), \";\\n            }\\n            .action-btn.primary:hover {\\n                background-color: \").concat(this._styleConfig.primaryColor, \";\\n                filter: brightness(1.1);\\n            }\\n            .action-btn.secondary {\\n                background-color: rgba(0,0,0,0.05);\\n                color: \").concat(this._styleConfig.textColor, \";\\n            }\\n            .action-btn.secondary:hover {\\n                background-color: rgba(0,0,0,0.1);\\n            }\\n\\n            /* --- 12-ZONE HYPER-GRANULAR RESPONSIVENESS --- */\\n\\n            /* Zone 1: Ultra Wide (> 1600px) */\\n            @media (min-width: 1601px) {\\n                .kanban-column { min-width: 350px !important; }\\n            }\\n\\n            /* Zone 2: Super Wide (1440px - 1600px) */\\n            @media (max-width: 1600px) {\\n                .kanban-column { min-width: 320px !important; }\\n            }\\n\\n            /* Zone 3: Wide Desktop (1366px - 1440px) */\\n            @media (max-width: 1440px) {\\n                .kanban-column { min-width: 300px !important; }\\n            }\\n\\n            /* Zone 4: Standard Desktop (1280px - 1366px) */\\n            @media (max-width: 1366px) {\\n                .kanban-column { min-width: 290px !important; }\\n            }\\n\\n            /* Zone 5: Compact Desktop (1200px - 1280px) */\\n            @media (max-width: 1280px) {\\n                .kanban-column { min-width: 280px !important; }\\n            }\\n\\n            /* Zone 6: Laptop (1024px - 1200px) */\\n            @media (max-width: 1200px) {\\n                .kanban-column { min-width: 260px !important; }\\n                .kanban-board-container { overflow-x: auto !important; }\\n            }\\n\\n            /* Zone 7: Tablet Landscape Large (900px - 1024px) */\\n            @media (max-width: 1024px) {\\n                .kanban-column { min-width: 250px !important; flex-shrink: 0 !important; }\\n                .kanban-board-container { overflow-x: auto !important; -webkit-overflow-scrolling: touch; }\\n            }\\n            \\n            /* Zone 8: Tablet Landscape Small (768px - 900px) */\\n            @media (max-width: 900px) {\\n                .kanban-column { min-width: 240px !important; }\\n            }\\n\\n            /* Zone 9: Tablet Portrait (600px - 768px) */\\n            @media (max-width: 768px) {\\n                .kanban-column { min-width: 220px !important; }\\n                /* Still horizontal, but tight. 2-3 columns visible. */\\n            }\\n\\n            /* Zone 10: Phablet (480px - 600px) - SWITCH TO VERTICAL STACK */\\n            @media (max-width: 600px) {\\n                .kanban-board-wrapper { flex-direction: column !important; align-items: stretch !important; }\\n                .kanban-board-container { height: auto !important; overflow-y: auto !important; overflow-x: hidden !important; }\\n                .kanban-column { width: 100% !important; max-width: none !important; min-width: 0 !important; flex: none !important; margin-bottom: 20px !important; }\\n                .kanban-column-header { padding: 14px !important; }\\n            }\\n\\n            /* Zone 11: Mobile Standard (375px - 480px) */\\n            @media (max-width: 480px) {\\n                .kanban-column { margin-bottom: 16px !important; }\\n                .kanban-column-header { padding: 12px !important; }\\n                .kanban-tasks-container { padding: 10px !important; }\\n            }\\n\\n            /* Zone 12: Micro Mobile (< 375px) */\\n            @media (max-width: 375px) {\\n                .kanban-column-header { padding: 8px 10px !important; font-size: 0.9em !important; }\\n                .kanban-task-card { padding: 8px 10px !important; }\\n                .author-avatar { width: 20px !important; height: 20px !important; }\\n                .author-badge { transform: scale(0.85); transform-origin: right top; }\\n            }\\n            \\n            /* General Touch Optimizations */\\n            @media (hover: none) and (pointer: coarse) {\\n                .kanban-task-card {\\n                    padding: 12px 16px !important; /* Larger touch area */\\n                }\\n                 /* Enhance scrollbars for touch */\\n                .kanban-board-container::-webkit-scrollbar {\\n                    width: 4px; /* Thinner on mobile */\\n                    height: 4px;\\n                }\\n            }\\n                \\n                .kanban-task-card {\\n                    border-radius: \").concat(Math.max(4, this._radiusConfig.card - 2), \"px !important;\\n                }\\n                \\n                .task-content {\\n                    font-size: \").concat(Math.max(12, this._styleConfig.fontSize - 1), \"px !important;\\n                    \").concat(this._textConfig.enableMultiline ? \"\\n                        -webkit-line-clamp: \".concat(Math.max(2, this._textConfig.maxLines - 1), \" !important;\\n                    \") : '', \"\\n                }\\n            }\\n            \\n            /* High contrast mode support */\\n            @media (prefers-contrast: high) {\\n                .kanban-task-card {\\n                    border-width: 2px !important;\\n                }\\n                \\n                .task-content {\\n                    color: \").concat(this._styleConfig.textColor, \" !important;\\n                }\\n            }\\n            \\n            /* Reduced motion support */\\n            @media (prefers-reduced-motion: reduce) {\\n                .kanban-task-card,\\n                .kanban-column,\\n                .author-badge {\\n                    transition: none !important;\\n                }\\n                \\n                .kanban-task-card:hover,\\n                .kanban-column:hover,\\n                .author-badge:hover {\\n                    transform: none !important;\\n                }\\n            }\\n        \");\n    styleElement.textContent = customCSS;\n  }\n  setupDragEvents(taskElement) {\n    taskElement.draggable = true;\n    taskElement.addEventListener('dragstart', e => {\n      this._draggedElement = taskElement;\n      this._draggedTaskId = taskElement.getAttribute('data-task-id');\n      this._sourceColumnId = taskElement.parentElement.getAttribute('data-column-id');\n      taskElement.style.opacity = '0.5';\n      e.dataTransfer.effectAllowed = 'move';\n    });\n    taskElement.addEventListener('dragend', () => {\n      taskElement.style.opacity = '1';\n      this._draggedElement = null;\n      this._draggedTaskId = null;\n      this._sourceColumnId = null;\n    });\n  }\n  setupDropZone(container) {\n    container.addEventListener('dragover', e => {\n      e.preventDefault();\n      e.dataTransfer.dropEffect = 'move';\n      container.style.backgroundColor = this.hexToRgba(this._styleConfig.primaryColor, 0.1);\n    });\n    container.addEventListener('dragleave', () => {\n      container.style.backgroundColor = '';\n    });\n    container.addEventListener('drop', e => {\n      e.preventDefault();\n      container.style.backgroundColor = '';\n      if (!this._draggedTaskId || !this._sourceColumnId) return;\n      var targetColumnId = container.getAttribute('data-column-id');\n      if (!targetColumnId) return;\n      this.moveTask(this._draggedTaskId, this._sourceColumnId, targetColumnId);\n    });\n  }\n  destroy() {\n    var styleElement = document.getElementById('kanban-custom-styles');\n    if (styleElement) {\n      styleElement.remove();\n    }\n  }\n}\n\n//# sourceURL=webpack://pcf_tools_652ac3f36e1e4bca82eb3c1dc44e6fad/./index.ts?\n}");

/***/ }

/******/ 	});
/************************************************************************/
/******/ 	// The require scope
/******/ 	var __webpack_require__ = {};
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./index.ts"](0,__webpack_exports__,__webpack_require__);
/******/ 	pcf_tools_652ac3f36e1e4bca82eb3c1dc44e6fad = __webpack_exports__;
/******/ 	
/******/ })()
;
if (window.ComponentFramework && window.ComponentFramework.registerControl) {
	ComponentFramework.registerControl('KanbanComponents.KanbanBoard', pcf_tools_652ac3f36e1e4bca82eb3c1dc44e6fad.KanbanBoard);
} else {
	var KanbanComponents = KanbanComponents || {};
	KanbanComponents.KanbanBoard = pcf_tools_652ac3f36e1e4bca82eb3c1dc44e6fad.KanbanBoard;
	pcf_tools_652ac3f36e1e4bca82eb3c1dc44e6fad = undefined;
}